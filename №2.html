<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–õ–ò–ú–ü - –ö–ª–∏–Ω–∏–∫–æ-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #00d4ff;
            --secondary: #7c3aed;
            --accent: #f59e0b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-card: #334155;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --border: #475569;
        }

        [data-theme="light"] {
            --bg-primary: #f8fafc;
            --bg-secondary: #e2e8f0;
            --bg-card: #ffffff;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --border: #cbd5e1;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
            overflow-x: hidden;
        }

        /* Welcome Screen */
        .welcome-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            position: relative;
            overflow: hidden;
        }

        .welcome-screen::before {
            content: '';
            position: absolute;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
            opacity: 0.1;
            animation: pulse 4s ease-in-out infinite;
            top: -250px;
            right: -250px;
        }

        .welcome-screen::after {
            content: '';
            position: absolute;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, var(--secondary) 0%, transparent 70%);
            opacity: 0.1;
            animation: pulse 5s ease-in-out infinite;
            bottom: -200px;
            left: -200px;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .welcome-content {
            text-align: center;
            z-index: 1;
            padding: 2rem;
            max-width: 1200px;
        }

        .welcome-logo {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: fadeInDown 1s ease;
        }

        .welcome-title {
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            animation: fadeInUp 1s ease 0.2s both;
        }

        .welcome-subtitle {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-bottom: 3rem;
            animation: fadeInUp 1s ease 0.4s both;
        }

        .auth-options {
            display: flex;
            gap: 2rem;
            justify-content: center;
            flex-wrap: wrap;
            animation: fadeInUp 1s ease 0.6s both;
        }

        .auth-card {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 3rem 2.5rem;
            width: 350px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .auth-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .auth-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.3);
        }

        .auth-card:hover::before {
            opacity: 0.1;
        }

        .auth-card-content {
            position: relative;
            z-index: 1;
        }

        .auth-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }

        .auth-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .auth-description {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }

        .auth-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .auth-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 212, 255, 0.4);
        }

        /* Header */
        .header {
            background: var(--bg-secondary);
            padding: 1rem 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid var(--border);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
            list-style: none;
            align-items: center;
        }

        .nav-link {
            color: var(--text-primary);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-link:hover {
            background: var(--bg-card);
            color: var(--primary);
        }

        .controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .theme-toggle, .lang-selector {
            background: var(--bg-card);
            border: 2px solid var(--border);
            padding: 0.6rem 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
            color: var(--text-primary);
        }

        .theme-toggle:hover, .lang-selector:hover {
            border-color: var(--primary);
            transform: scale(1.05);
        }

        .lang-selector {
            font-size: 0.95rem;
            padding: 0.6rem 1.2rem;
            font-weight: 500;
        }

        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
            display: none;
        }

        .main-content.active {
            display: block;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border-radius: 30px;
            padding: 4rem;
            margin-bottom: 3rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            border: 2px solid var(--border);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
            opacity: 0.1;
            top: -100px;
            right: -100px;
            animation: pulse 3s ease-in-out infinite;
        }

        .hero-content {
            z-index: 1;
        }

        .hero-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 20px;
            font-weight: 600;
            margin-bottom: 1.5rem;
            animation: slideInLeft 1s ease;
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            line-height: 1.2;
            animation: slideInLeft 1s ease 0.2s both;
        }

        .hero-highlight {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-description {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            animation: slideInLeft 1s ease 0.4s both;
        }

        .hero-actions {
            display: flex;
            gap: 1rem;
            animation: slideInLeft 1s ease 0.6s both;
        }

        .btn {
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1.1rem;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.4);
        }

        .btn-secondary {
            background: var(--bg-card);
            color: var(--text-primary);
            border: 2px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
        }

        .hero-visual {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            z-index: 1;
        }

        .result-card {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 15px;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slideInRight 1s ease;
            transition: all 0.3s ease;
        }

        .result-card:hover {
            transform: translateX(-10px);
            border-color: var(--primary);
        }

        .result-info h4 {
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .result-date {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .result-status {
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .status-ready {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }

        /* Features Grid */
        .features-section {
            margin: 4rem 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .section-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.2);
        }

        .feature-card:hover::before {
            opacity: 0.05;
        }

        .feature-content {
            position: relative;
            z-index: 1;
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .feature-description {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .feature-btn {
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            padding: 0.8rem 1.5rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: var(--text-primary);
        }

        .feature-btn:hover {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-color: transparent;
        }

        /* Benefits */
        .benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 3rem 0;
        }

        .benefit-item {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .benefit-item:hover {
            transform: translateY(-5px);
            border-color: var(--success);
        }

        .benefit-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .benefit-text {
            font-weight: 600;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 25px;
            padding: 3rem;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideInUp 0.3s ease;
        }

        .modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: var(--danger);
            border-color: var(--danger);
            transform: rotate(90deg);
        }

        .modal-title {
            font-size: 2rem;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 1rem;
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
        }

        /* Payment Methods */
        .payment-methods {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .payment-method {
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .payment-method:hover, .payment-method.active {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(124, 58, 237, 0.1));
        }

        /* Map */
        .map-container {
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 20px;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        .map-placeholder {
            text-align: center;
            color: var(--text-secondary);
        }

        /* Chat Widget */
        .chat-widget {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 999;
        }

        .chat-button {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 2rem;
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.4);
            transition: all 0.3s ease;
            animation: bounce 2s ease-in-out infinite;
        }

        .chat-button:hover {
            transform: scale(1.1);
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .chat-window {
            display: none;
            position: fixed;
            bottom: 90px;
            right: 2rem;
            width: 450px;
            height: 650px;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 20px;
            flex-direction: column;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: slideInUp 0.3s ease;
            overflow: hidden;
        }

        .chat-window.active {
            display: flex;
        }

        .chat-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 1.5rem;
            border-radius: 18px 18px 0 0;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header-info {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .ai-badge {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
        }

        .ai-status-text {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .ai-typing {
            display: none;
            align-items: center;
            gap: 5px;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            margin: 0.5rem 1rem;
            width: fit-content;
        }

        .ai-typing.active {
            display: flex;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--primary);
            border-radius: 50%;
            animation: typingBounce 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingBounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        /* AI Analysis Modal */
        .ai-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .ai-modal.active {
            display: flex;
        }

        .ai-modal-content {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 25px;
            padding: 2.5rem;
            max-width: 900px;
            width: 95%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideInUp 0.3s ease;
        }

        .ai-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid var(--border);
        }

        .ai-modal-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .ai-modal-title h2 {
            font-size: 1.8rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .ai-result-box {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(124, 58, 237, 0.1));
            border: 1px solid var(--primary);
            border-radius: 16px;
            padding: 1.5rem;
            margin: 1rem 0;
            line-height: 1.8;
        }

        .ai-result-box h3 {
            color: var(--primary);
            margin: 1rem 0 0.5rem;
        }

        .ai-result-box h3:first-child {
            margin-top: 0;
        }

        .ai-result-box ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .ai-result-box li {
            margin-bottom: 0.5rem;
        }

        .ai-result-box strong {
            color: var(--primary);
        }

        .ai-disclaimer {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid var(--warning);
            border-radius: 12px;
            padding: 1rem;
            margin-top: 1.5rem;
            color: var(--warning);
            display: flex;
            align-items: flex-start;
            gap: 0.8rem;
            font-size: 0.9rem;
        }

        .ai-form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .ai-btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .ai-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.4);
        }

        .ai-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .chat-message {
            padding: 1rem;
            border-radius: 12px;
            max-width: 80%;
            animation: fadeIn 0.3s ease;
        }

        .chat-message.bot {
            background: var(--bg-secondary);
            align-self: flex-start;
        }

        .chat-message.user {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            align-self: flex-end;
        }

        .chat-input-container {
            padding: 1rem;
            border-top: 2px solid var(--border);
            display: flex;
            gap: 1rem;
        }

        .chat-input {
            flex: 1;
            padding: 0.8rem;
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
        }

        .chat-send {
            padding: 0.8rem 1.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-weight: 600;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero {
                grid-template-columns: 1fr;
                padding: 2rem;
            }

            .auth-options {
                flex-direction: column;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .nav-menu {
                display: none;
            }

            .welcome-title {
                font-size: 2.5rem;
            }

            .chat-window {
                width: 90vw;
                right: 5vw;
            }
        }

        /* Loyalty Program */
        .loyalty-card {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            border-radius: 20px;
            padding: 2rem;
            color: white;
            margin: 2rem 0;
        }

        .loyalty-points {
            font-size: 3rem;
            font-weight: 700;
            margin: 1rem 0;
        }

        .loyalty-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .loyalty-benefit {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }

        /* Chart Container */
        .chart-container {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .chart-placeholder {
            height: 300px;
            background: var(--bg-secondary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid var(--border);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Success Message */
        .success-message {
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid var(--success);
            border-radius: 12px;
            padding: 1rem;
            margin: 1rem 0;
            display: none;
            align-items: center;
            gap: 1rem;
            animation: fadeIn 0.3s ease;
        }

        .success-message.active {
            display: flex;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--primary);
            position: absolute;
            animation: confettiFall 3s ease-out forwards;
        }

        @keyframes confettiFall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body data-theme="dark">
    <!-- Welcome Screen -->
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-content">
            <div class="welcome-logo">üß¨</div>
            <h1 class="welcome-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –û–õ–ò–ú–ü</h1>
            <p class="welcome-subtitle">–ö–ª–∏–Ω–∏–∫–æ-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è</p>
            
            <div class="auth-options">
                <div class="auth-card" onclick="showRegistration('patient')">
                    <div class="auth-card-content">
                        <div class="auth-icon">üë§</div>
                        <h3 class="auth-title">–ü–∞—Ü–∏–µ–Ω—Ç—ã</h3>
                        <p class="auth-description">–ó–∞–ø–∏—Å—å –Ω–∞ –∞–Ω–∞–ª–∏–∑—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–Ω–ª–∞–π–Ω, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</p>
                        <button class="auth-btn">–í–æ–π—Ç–∏ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                    </div>
                </div>

                <div class="auth-card" onclick="showRegistration('staff')">
                    <div class="auth-card-content">
                        <div class="auth-icon">üë®‚Äç‚öïÔ∏è</div>
                        <h3 class="auth-title">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h3>
                        <p class="auth-description">–î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏, CRM</p>
                        <button class="auth-btn">–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" style="display: none;">
        <!-- Header -->
        <header class="header">
            <div class="nav-container">
                <div class="logo">
                    <div class="logo-icon">üß¨</div>
                    <span>–û–õ–ò–ú–ü</span>
                </div>
                
                <ul class="nav-menu">
                    <li><a href="#" class="nav-link" data-translate="nav_home">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="#" class="nav-link" data-translate="nav_patients">–ü–∞—Ü–∏–µ–Ω—Ç–∞–º</a></li>
                    <li><a href="#" class="nav-link" data-translate="nav_staff">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º</a></li>
                    <li><a href="#" class="nav-link" data-translate="nav_contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                </ul>

                <div class="controls">
                    <select class="lang-selector" id="langSelector" onchange="changeLanguage()">
                        <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                        <option value="kk">üá∞üáø “ö–∞–∑–∞“õ—à–∞</option>
                        <option value="ky">üá∞üá¨ –ö—ã—Ä–≥—ã–∑—á–∞</option>
                        <option value="tg">üáπüáØ –¢–æ“∑–∏–∫”£</option>
                        <option value="en">üá¨üáß English</option>
                    </select>
                    <button class="theme-toggle" onclick="toggleTheme()">üåô</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content active">
            <!-- Hero Section -->
            <section class="hero">
                <div class="hero-content">
                    <span class="hero-badge">üî¨ <span data-translate="hero_badge">–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</span></span>
                    <h1 class="hero-title">
                        <span data-translate="hero_title_1">–ö–ª–∏–Ω–∏–∫–æ-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è</span><br>
                        <span class="hero-highlight">–û–õ–ò–ú–ü</span>
                    </h1>
                    <p class="hero-description" data-translate="hero_description">
                        –¢–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–æ–≤ –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Ä–æ–∫–∏. –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã.
                    </p>
                    <div class="hero-actions">
                        <button class="btn btn-primary" onclick="openModal('appointment')">
                            üìÖ <span data-translate="btn_appointment">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∞–Ω–∞–ª–∏–∑</span>
                        </button>
                        <button class="btn btn-secondary" onclick="openModal('results')">
                            üìä <span data-translate="btn_results">–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</span>
                        </button>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="result-card">
                        <div class="result-info">
                            <h4 data-translate="result_blood">–û–±—â–∏–π –∞–Ω–∞–ª–∏–∑ –∫—Ä–æ–≤–∏</h4>
                            <p class="result-date">04.02.2024</p>
                        </div>
                        <span class="result-status status-ready" data-translate="status_ready">–ì–æ—Ç–æ–≤–æ</span>
                    </div>
                    <div class="result-card">
                        <div class="result-info">
                            <h4 data-translate="result_biochemistry">–ë–∏–æ—Ö–∏–º–∏—è –∫—Ä–æ–≤–∏</h4>
                            <p class="result-date">02.02.2024</p>
                        </div>
                        <span class="result-status status-ready" data-translate="status_ready">–ì–æ—Ç–æ–≤–æ</span>
                    </div>
                </div>
            </section>

            <!-- Benefits -->
            <div class="benefits">
                <div class="benefit-item">
                    <div class="benefit-icon">‚úÖ</div>
                    <div class="benefit-text" data-translate="benefit_online">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã online</div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">‚ö°</div>
                    <div class="benefit-text" data-translate="benefit_noqueue">–ë–µ–∑ –æ—á–µ—Ä–µ–¥–µ–π</div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">üí∞</div>
                    <div class="benefit-text" data-translate="benefit_discount">–°–∫–∏–¥–∫–∏ –¥–æ 20%</div>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">üè†</div>
                    <div class="benefit-text" data-translate="benefit_home">–í—ã–µ–∑–¥ –Ω–∞ –¥–æ–º</div>
                </div>
            </div>

            <!-- Features Section -->
            <section class="features-section">
                <div class="section-header">
                    <h2 class="section-title" data-translate="features_title">–ù–∞—à–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h2>
                    <p class="section-subtitle" data-translate="features_subtitle">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞</p>
                </div>

                <div class="features-grid">
                    <!-- Online Payment -->
                    <div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">üí≥</div>
                            <h3 class="feature-title" data-translate="feature_payment_title">–û–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞</h3>
                            <p class="feature-description" data-translate="feature_payment_desc">
                                –û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π Kaspi, Visa, Mastercard, Apple Pay, Google Pay. –ü–æ–¥–∞—Ä–æ—á–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã.
                            </p>
                            <button class="feature-btn" onclick="openModal('payment')">
                                <span data-translate="btn_pay">–û–ø–ª–∞—Ç–∏—Ç—å</span> ‚Üí
                            </button>
                        </div>
                    </div>

                    <!-- Interactive Map -->
                    <div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">üìç</div>
                            <h3 class="feature-title" data-translate="feature_map_title">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞</h3>
                            <p class="feature-description" data-translate="feature_map_desc">
                                –ù–∞–π–¥–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π —Ñ–∏–ª–∏–∞–ª —Å –º–∞—Ä—à—Ä—É—Ç–æ–º –∏ —Ä–∞—Å—á—ë—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—É—Ç–∏.
                            </p>
                            <button class="feature-btn" onclick="openModal('map')">
                                <span data-translate="btn_map">–ù–∞–π—Ç–∏ —Ñ–∏–ª–∏–∞–ª</span> ‚Üí
                            </button>
                        </div>
                    </div>

                    <!-- Loyalty Program -->
                    <div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">üéÅ</div>
                            <h3 class="feature-title" data-translate="feature_loyalty_title">–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</h3>
                            <p class="feature-description" data-translate="feature_loyalty_desc">
                                –ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã, —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏.
                            </p>
                            <button class="feature-btn" onclick="openModal('loyalty')">
                                <span data-translate="btn_loyalty">–ú–æ–∏ –±–∞–ª–ª—ã</span> ‚Üí
                            </button>
                        </div>
                    </div>

                    <!-- Results Visualization -->
<div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">üìä</div>
                            <h3 class="feature-title">AI –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h3>
                            <p class="feature-description">
                                –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–∏ –∞–Ω–∞–ª–∏–∑—ã –∏ –¥–∞—Å—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∑–¥–æ—Ä–æ–≤—å—é.
                            </p>
                            <button class="feature-btn" onclick="openAIModal()">
                                –ó–∞–ø—É—Å—Ç–∏—Ç—å AI –ê–Ω–∞–ª–∏–∑ ‚Üí
                            </button>
                        </div>
                    </div>

                    <!-- Home Visit -->
                    <div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">üè†</div>
                            <h3 class="feature-title" data-translate="feature_home_title">–í—ã–µ–∑–¥ –Ω–∞ –¥–æ–º</h3>
                            <p class="feature-description" data-translate="feature_home_desc">
                                –í—ã–∑–æ–≤ –º–µ–¥—Å–µ—Å—Ç—Ä—ã –Ω–∞ –¥–æ–º –∏–ª–∏ –≤ –æ—Ñ–∏—Å. –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤—ã–µ–∑–¥–∞.
                            </p>
                            <button class="feature-btn" onclick="openModal('homeVisit')">
                                <span data-translate="btn_home">–í—ã–∑–≤–∞—Ç—å –Ω–∞ –¥–æ–º</span> ‚Üí
                            </button>
                        </div>
                    </div>

                    <!-- Corporate -->
                    <div class="feature-card">
                        <div class="feature-content">
                            <div class="feature-icon">üè¢</div>
                            <h3 class="feature-title" data-translate="feature_corporate_title">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–¥–µ–ª</h3>
                            <p class="feature-description" data-translate="feature_corporate_desc">
                                –ú–µ–¥–æ—Å–º–æ—Ç—Ä—ã –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π, –æ–ø—Ç–æ–≤—ã–µ —Ü–µ–Ω—ã, –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç HR.
                            </p>
                            <button class="feature-btn" onclick="openModal('corporate')">
                                <span data-translate="btn_corporate">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</span> ‚Üí
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <!-- Registration Modal -->
    <div class="modal" id="registrationModal">
        <div class="modal-content">
            <div class="modal-close" onclick="closeModal('registrationModal')">√ó</div>
            <h2 class="modal-title" id="registrationTitle">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            
            <form id="registrationForm">
                <div class="form-group">
                    <label class="form-label" data-translate="form_name">–ü–æ–ª–Ω–æ–µ –∏–º—è</label>
                    <input type="text" class="form-input" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-translate="form_phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" class="form-input" placeholder="+7 (___) ___-__-__" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" placeholder="email@example.com" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" data-translate="form_password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <span data-translate="btn_register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</span>
                </button>
            </form>

            <div class="success-message" id="successMessage">
                <span style="font-size: 2rem;">üéâ</span>
                <div>
                    <strong data-translate="success_title">–£—Å–ø–µ—à–Ω–æ!</strong>
                    <p data-translate="success_text">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <div class="modal-close" onclick="closeModal('paymentModal')">√ó</div>
            <h2 class="modal-title" data-translate="payment_title">–û–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞</h2>
            
            <div class="form-group">
                <label class="form-label" data-translate="payment_select">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</label>
                <select class="form-select">
                    <option>–û–±—â–∏–π –∞–Ω–∞–ª–∏–∑ –∫—Ä–æ–≤–∏ - 2500 ‚Ç∏</option>
                    <option>–ë–∏–æ—Ö–∏–º–∏—è –∫—Ä–æ–≤–∏ - 5000 ‚Ç∏</option>
                    <option>–ì–æ—Ä–º–æ–Ω—ã —â–∏—Ç–æ–≤–∏–¥–Ω–æ–π –∂–µ–ª–µ–∑—ã - 7500 ‚Ç∏</option>
                    <option>–ê–ª–ª–µ—Ä–≥–æ–ø–∞–Ω–µ–ª—å - 12000 ‚Ç∏</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label" data-translate="payment_method">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</label>
                <div class="payment-methods">
                    <div class="payment-method active">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">üí≥</div>
                        <div>Kaspi</div>
                    </div>
                    <div class="payment-method">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">üí≥</div>
                        <div>Visa/Mastercard</div>
                    </div>
                    <div class="payment-method">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">üì±</div>
                        <div>Apple Pay</div>
                    </div>
                    <div class="payment-method">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">üì±</div>
                        <div>Google Pay</div>
                    </div>
                </div>
            </div>

            <button class="btn btn-primary" style="width: 100%;" onclick="processPayment()">
                <span data-translate="btn_pay_now">–û–ø–ª–∞—Ç–∏—Ç—å 2500 ‚Ç∏</span>
            </button>
        </div>
    </div>

    <!-- Map Modal -->
    <div class="modal" id="mapModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-close" onclick="closeModal('mapModal')">√ó</div>
            <h2 class="modal-title" data-translate="map_title">–ù–∞—à–∏ —Ñ–∏–ª–∏–∞–ª—ã</h2>
            
            <div class="map-container">
                <div class="map-placeholder">
                    <div>
                        <div style="font-size: 4rem; margin-bottom: 1rem;">üìç</div>
                        <h3 data-translate="map_placeholder">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞</h3>
                        <p data-translate="map_placeholder_text">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞—Ä—Ç–∞ —Å —Ñ–∏–ª–∏–∞–ª–∞–º–∏</p>
                        <p style="margin-top: 1rem;">
                            <strong>–§–∏–ª–∏–∞–ª 1:</strong> –≥. –ö–æ–∫—à–µ—Ç–∞—É, —É–ª. –ê–±–∞—è, 123<br>
                            <strong>–§–∏–ª–∏–∞–ª 2:</strong> –≥. –ö–æ–∫—à–µ—Ç–∞—É, —É–ª. –ì–æ—Ä—å–∫–æ–≥–æ, 45<br>
                            <strong>–§–∏–ª–∏–∞–ª 3:</strong> –≥. –ö–æ–∫—à–µ—Ç–∞—É, –º–∫—Ä. –í–∞—Å–∏–ª—å–∫–æ–≤—Å–∫–∏–π, 78
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loyalty Modal -->
    <div class="modal" id="loyaltyModal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-close" onclick="closeModal('loyaltyModal')">√ó</div>
            <h2 class="modal-title" data-translate="loyalty_title">–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</h2>
            
            <div class="loyalty-card">
                <h3 data-translate="loyalty_your_points">–í–∞—à–∏ –±–∞–ª–ª—ã</h3>
                <div class="loyalty-points">2,450 –±–∞–ª–ª–æ–≤</div>
                <p data-translate="loyalty_discount">= —Å–∫–∏–¥–∫–∞ 245 ‚Ç∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –∞–Ω–∞–ª–∏–∑</p>
                
                <div class="loyalty-benefits">
                    <div class="loyalty-benefit">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">üéØ</div>
                        <div data-translate="loyalty_accumulation">1 –±–∞–ª–ª = 1 ‚Ç∏</div>
                    </div>
                    <div class="loyalty-benefit">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">üë•</div>
                        <div data-translate="loyalty_referral">–ü—Ä–∏–≤–µ–¥–∏ –¥—Ä—É–≥–∞ +10%</div>
                    </div>
                    <div class="loyalty-benefit">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">üéÇ</div>
                        <div data-translate="loyalty_birthday">–í –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è -15%</div>
                    </div>
                </div>
            </div>

            <div style="margin-top: 2rem;">
                <h4 style="margin-bottom: 1rem;" data-translate="loyalty_history">–ò—Å—Ç–æ—Ä–∏—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π</h4>
                <div class="result-card" style="margin-bottom: 1rem;">
                    <div class="result-info">
                        <h4>–ê–Ω–∞–ª–∏–∑ –∫—Ä–æ–≤–∏</h4>
                        <p class="result-date">01.02.2024</p>
                    </div>
                    <span style="color: var(--success); font-weight: 700;">+250 –±–∞–ª–ª–æ–≤</span>
                </div>
                <div class="result-card">
                    <div class="result-info">
                        <h4>–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –±–æ–Ω—É—Å</h4>
                        <p class="result-date">15.01.2024</p>
                    </div>
                    <span style="color: var(--success); font-weight: 700;">+500 –±–∞–ª–ª–æ–≤</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Charts Modal -->
    <div class="modal" id="chartsModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-close" onclick="closeModal('chartsModal')">√ó</div>
            <h2 class="modal-title" data-translate="chart_title">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h2>
            
            <div class="chart-container">
                <h4 style="margin-bottom: 1rem;" data-translate="chart_blood_title">–î–∏–Ω–∞–º–∏–∫–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –∫—Ä–æ–≤–∏</h4>
                <div class="chart-placeholder">
                    <div>
                        <div style="font-size: 4rem; margin-bottom: 1rem;">üìà</div>
                        <h3 data-translate="chart_placeholder">–ì—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏</h3>
                        <p data-translate="chart_placeholder_text">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≥—Ä–∞—Ñ–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π</p>
                        <div style="margin-top: 1rem; display: flex; gap: 2rem; justify-content: center;">
                            <div>
                                <span style="color: var(--success);">‚óè</span> <span data-translate="chart_normal">–ù–æ—Ä–º–∞</span>
                            </div>
                            <div>
                                <span style="color: var(--warning);">‚óè</span> <span data-translate="chart_attention">–í–Ω–∏–º–∞–Ω–∏–µ</span>
                            </div>
                            <div>
                                <span style="color: var(--danger);">‚óè</span> <span data-translate="chart_critical">–ö—Ä–∏—Ç–∏—á–Ω–æ</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="margin-top: 2rem;">
                <h4 style="margin-bottom: 1rem;" data-translate="chart_last_results">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="result-card">
                        <div class="result-info">
                            <h4>–ì–µ–º–æ–≥–ª–æ–±–∏–Ω</h4>
                            <p style="font-size: 1.5rem; margin-top: 0.5rem; color: var(--success);">145 –≥/–ª</p>
                        </div>
                        <span style="color: var(--success); font-size: 2rem;">‚úì</span>
                    </div>
                    <div class="result-card">
                        <div class="result-info">
                            <h4>–õ–µ–π–∫–æ—Ü–∏—Ç—ã</h4>
                            <p style="font-size: 1.5rem; margin-top: 0.5rem; color: var(--success);">6.2 √ó 10‚Åπ/–ª</p>
                        </div>
                        <span style="color: var(--success); font-size: 2rem;">‚úì</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Medical Assistant Modal -->
    <div class="ai-modal" id="aiModal">
        <div class="ai-modal-content">
            <div class="ai-modal-header">
                <div class="ai-modal-title">
                    <div class="ai-badge" style="width: 50px; height: 50px; font-size: 1.5rem;">ü§ñ</div>
                    <div>
                        <h2>AI –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</h2>
                        <p style="color: var(--text-secondary);">–ö–ª–∏–Ω–∏–∫–∞ –û–õ–ò–ú–ü</p>
                    </div>
                </div>
                <button class="modal-close" onclick="closeAIModal()" style="position: static;">√ó</button>
            </div>

            <div id="aiFormSection">
                <p style="margin-bottom: 1.5rem; color: var(--text-secondary);">
                    –í–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–æ–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:
                </p>

                <div class="ai-form-grid">
                    <div class="form-section">
                        <label class="form-label">–§–ò–û –ø–∞—Ü–∏–µ–Ω—Ç–∞</label>
                        <input type="text" class="form-input" id="aiPatientName" placeholder="–ò–≤–∞–Ω–æ–≤ –ò.–ò.">
                    </div>
                    <div class="form-section">
                        <label class="form-label">–ü–æ–ª</label>
                        <select class="form-select" id="aiGender">
                            <option value="–º—É–∂—Å–∫–æ–π">–ú—É–∂—Å–∫–æ–π</option>
                            <option value="–∂–µ–Ω—Å–∫–∏–π">–ñ–µ–Ω—Å–∫–∏–π</option>
                        </select>
                    </div>
                </div>

                <div class="ai-form-grid">
                    <div class="form-section">
                        <label class="form-label">–ì–µ–º–æ–≥–ª–æ–±–∏–Ω (–≥/–ª)</label>
                        <input type="number" class="form-input" id="aiHemoglobin" placeholder="130-170 –º / 120-150 –∂">
                    </div>
                    <div class="form-section">
                        <label class="form-label">–õ–µ–π–∫–æ—Ü–∏—Ç—ã (√ó10‚Åπ/–ª)</label>
                        <input type="number" class="form-input" id="aiLeukocytes" placeholder="4-9">
                    </div>
                </div>

                <div class="ai-form-grid">
                    <div class="form-section">
                        <label class="form-label">–≠—Ä–∏—Ç—Ä–æ—Ü–∏—Ç—ã (√ó10¬π¬≤/–ª)</label>
                        <input type="number" step="0.1" class="form-input" id="aiErythrocytes" placeholder="4.0-5.5 –º / 3.5-5.0 –∂">
                    </div>
                    <div class="form-section">
                        <label class="form-label">–¢—Ä–æ–º–±–æ—Ü–∏—Ç—ã (√ó10‚Åπ/–ª)</label>
                        <input type="number" class="form-input" id="aiPlatelets" placeholder="150-400">
                    </div>
                </div>

                <div class="ai-form-grid">
                    <div class="form-section">
                        <label class="form-label">–ì–ª—é–∫–æ–∑–∞ (–º–º–æ–ª—å/–ª)</label>
                        <input type="number" step="0.1" class="form-input" id="aiSugar" placeholder="3.9-6.1">
                    </div>
                    <div class="form-section">
                        <label class="form-label">–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω (–º–º–æ–ª—å/–ª)</label>
                        <input type="number" step="0.1" class="form-input" id="aiCholesterol" placeholder="–¥–æ 5.2">
                    </div>
                </div>

                <button class="ai-btn" onclick="runAIAnalysis()" id="aiAnalyzeBtn">
                    ü§ñ –ó–∞–ø—É—Å—Ç–∏—Ç—å AI –ê–Ω–∞–ª–∏–∑
                </button>
            </div>

            <div id="aiResultSection" style="display: none;">
                <div class="ai-result-box" id="aiResultContent">
                </div>
                <div class="ai-disclaimer">
                    ‚ö†Ô∏è –î–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–æ—Å–∏—Ç –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –≤—Ä–∞—á–∞.
                </div>
                <button class="ai-btn" style="margin-top: 1.5rem;" onclick="resetAIModal()">
                    ‚Ü©Ô∏è –ù–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑
                </button>
            </div>
        </div>
    </div>

    <!-- Chat Widget -->
    <div class="chat-widget">
        <button class="chat-button" onclick="toggleChat()">üí¨</button>
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <div class="chat-header-info">
                    <div class="ai-badge">ü§ñ</div>
                    <div>
                        <h4>AI –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</h4>
                        <p class="ai-status-text" id="chatStatus">‚óè –û–Ω–ª–∞–π–Ω</p>
                    </div>
                </div>
                <button style="background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer;" onclick="toggleChat()">√ó</button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="chat-message bot">
                    –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –∫–ª–∏–Ω–∏–∫–∏ –û–õ–ò–ú–ü.<br><br>
                    –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å? –ú–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ:<br>
                    ‚Ä¢ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ –∞–Ω–∞–ª–∏–∑–∞–º<br>
                    ‚Ä¢ –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤<br>
                    ‚Ä¢ –ù–æ—Ä–º–∞—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –∫—Ä–æ–≤–∏<br>
                    ‚Ä¢ –°–∏–º–ø—Ç–æ–º–∞—Ö –∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è—Ö
                </div>
            </div>
            <div class="ai-typing" id="aiTyping">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
            <div class="chat-input-container">
                <input type="text" class="chat-input" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å..." id="chatInput" onkeypress="handleChatKeypress(event)">
                <button class="chat-send" onclick="sendMessage()">
                    ‚û§
                </button>
            </div>
            <div style="padding: 0.8rem; border-top: 1px solid var(--border); display: flex; gap: 0.5rem; flex-wrap: wrap;">
                <div class="question-chip" onclick="quickQuestion('–Ω–æ—Ä–º–∞ –≥–µ–º–æ–≥–ª–æ–±–∏–Ω–∞')">–ù–æ—Ä–º–∞ –≥–µ–º–æ–≥–ª–æ–±–∏–Ω–∞</div>
                <div class="question-chip" onclick="quickQuestion('–∫–∞–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –∞–Ω–∞–ª–∏–∑—É –∫—Ä–æ–≤–∏')">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∞–Ω–∞–ª–∏–∑—É</div>
                <div class="question-chip" onclick="quickQuestion('—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–æ—Ç–æ–≤—ã')">–°—Ä–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</div>
            </div>
        </div>
    </div>

    <style>
        .question-chip {
            padding: 0.4rem 0.8rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 15px;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .question-chip:hover {
            border-color: var(--primary);
            background: rgba(0, 212, 255, 0.1);
        }
    </style>

    <script>
        // Translations
        const translations = {
            ru: {
                nav_home: '–ì–ª–∞–≤–Ω–∞—è',
                nav_patients: '–ü–∞—Ü–∏–µ–Ω—Ç–∞–º',
                nav_staff: '–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º',
                nav_contacts: '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
                hero_badge: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ',
                hero_title_1: '–ö–ª–∏–Ω–∏–∫–æ-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è',
                hero_description: '–¢–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–æ–≤ –∑–∞ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Ä–æ–∫–∏. –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã.',
                btn_appointment: '–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∞–Ω–∞–ª–∏–∑',
                btn_results: '–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã',
                result_blood: '–û–±—â–∏–π –∞–Ω–∞–ª–∏–∑ –∫—Ä–æ–≤–∏',
                result_biochemistry: '–ë–∏–æ—Ö–∏–º–∏—è –∫—Ä–æ–≤–∏',
                status_ready: '–ì–æ—Ç–æ–≤–æ',
                benefit_online: '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã online',
                benefit_noqueue: '–ë–µ–∑ –æ—á–µ—Ä–µ–¥–µ–π',
                benefit_discount: '–°–∫–∏–¥–∫–∏ –¥–æ 20%',
                benefit_home: '–í—ã–µ–∑–¥ –Ω–∞ –¥–æ–º',
                features_title: '–ù–∞—à–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏',
                features_subtitle: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞',
                chat_welcome: '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?',
                chat_title: '–û–Ω–ª–∞–π–Ω –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç',
                chat_online: '‚óè –û–Ω–ª–∞–π–Ω'
            },
            kk: {
                nav_home: '–ë–∞—Å—Ç—ã –±–µ—Ç',
                nav_patients: '–ü–∞—Ü–∏–µ–Ω—Ç—Ç–µ—Ä–≥–µ',
                nav_staff: '“ö—ã–∑–º–µ—Ç–∫–µ—Ä–ª–µ—Ä–≥–µ',
                nav_contacts: '–ë–∞–π–ª–∞–Ω—ã—Å',
                hero_badge: '–ó–∞–º–∞–Ω–∞—É–∏ –∂–∞–±–¥—ã“õ',
                hero_title_1: '–ö–ª–∏–Ω–∏–∫–∞–ª—ã“õ-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞–ª—ã“õ –∑–µ—Ä—Ç—Ö–∞–Ω–∞',
                hero_description: '“ö—ã—Å“õ–∞ –º–µ—Ä–∑—ñ–º–¥–µ –¥”ô–ª –Ω”ô—Ç–∏–∂–µ–ª–µ—Ä. –ó–∞–º–∞–Ω–∞—É–∏ –∂–∞–±–¥—ã“õ, –±—ñ–ª—ñ–∫—Ç—ñ –º–∞–º–∞–Ω–¥–∞—Ä.',
                btn_appointment: '–¢–∞–ª–¥–∞—É“ì–∞ –∂–∞–∑—ã–ª—É',
                btn_results: '–ù”ô—Ç–∏–∂–µ–ª–µ—Ä–¥—ñ –∞–ª—É',
                result_blood: '“ö–∞–Ω–Ω—ã“£ –∂–∞–ª–ø—ã —Ç–∞–ª–¥–∞—É—ã',
                result_biochemistry: '“ö–∞–Ω –±–∏–æ—Ö–∏–º–∏—è—Å—ã',
                status_ready: '–î–∞–π—ã–Ω',
                benefit_online: '–ù”ô—Ç–∏–∂–µ–ª–µ—Ä –æ–Ω–ª–∞–π–Ω',
                benefit_noqueue: '–ö–µ–∑–µ–∫—Å—ñ–∑',
                benefit_discount: '20%-“ì–∞ –¥–µ–π—ñ–Ω –∂–µ“£—ñ–ª–¥—ñ–∫',
                benefit_home: '“Æ–π–≥–µ —à—ã“ì—É',
                features_title: '–ë—ñ–∑–¥—ñ“£ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫—Ç–µ—Ä',
                features_subtitle: '–°—ñ–∑–¥—ñ“£ —ã“£“ì–∞–π–ª—ã–ª—ã“ì—ã“£—ã–∑ “Ø—à—ñ–Ω –∑–∞–º–∞–Ω–∞—É–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä',
                chat_welcome: '–°”ô–ª–µ–º–µ—Ç—Å—ñ–∑ –±–µ! “ö–∞–ª–∞–π –∫”©–º–µ–∫—Ç–µ—Å–µ –∞–ª–∞–º—ã–Ω?',
                chat_title: '–û–Ω–ª–∞–π–Ω –∫–µ“£–µ—Å—à—ñ',
                chat_online: '‚óè –û–Ω–ª–∞–π–Ω'
            },
            ky: {
                nav_home: '–ë–∞—à–∫—ã –±–µ—Ç',
                nav_patients: '–ü–∞—Ü–∏–µ–Ω—Ç—Ç–µ—Ä–≥–µ',
                nav_staff: '–ö—ã–∑–º–∞—Ç–∫–µ—Ä–ª–µ—Ä–≥–µ',
                nav_contacts: '–ë–∞–π–ª–∞–Ω—ã—à',
                hero_badge: '–ó–∞–º–∞–Ω–±–∞–ø –∂–∞–±–¥—É—É',
                hero_title_1: '–ö–ª–∏–Ω–∏–∫–∞–ª—ã–∫-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞–ª—ã–∫ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è',
                hero_description: '–ö—ã—Å–∫–∞ –º”©”©–Ω”©—Ç—Ç”© —Ç–∞–∫ –Ω–∞—Ç—ã–π–∂–∞–ª–∞—Ä. –ó–∞–º–∞–Ω–±–∞–ø –∂–∞–±–¥—É—É, –±–∏–ª–∏–º–¥“Ø“Ø –∞–¥–∏—Å—Ç–µ—Ä.',
                btn_appointment: '–ê–Ω–∞–ª–∏–∑–≥–µ –∂–∞–∑—ã–ª—É—É',
                btn_results: '–ù–∞—Ç—ã–π–∂–∞–ª–∞—Ä–¥—ã –∞–ª—É—É',
                result_blood: '–ö–∞–Ω–¥—ã–Ω –∂–∞–ª–ø—ã –∞–Ω–∞–ª–∏–∑–∏',
                result_biochemistry: '–ö–∞–Ω –±–∏–æ—Ö–∏–º–∏—è—Å—ã',
                status_ready: '–î–∞—è—Ä',
                benefit_online: '–ù–∞—Ç—ã–π–∂–∞–ª–∞—Ä –æ–Ω–ª–∞–π–Ω',
                benefit_noqueue: '–ö–µ–∑–µ–∫—Å–∏–∑',
                benefit_discount: '20%–≥–∞ —á–µ–π–∏–Ω –∞—Ä–∑–∞–Ω–¥–∞—Ç—É—É',
                benefit_home: '“Æ–π–≥”© —á—ã–≥—É—É',
                features_title: '–ë–∏–∑–¥–∏–Ω –º“Ø–º–∫“Ø–Ω—á“Ø–ª“Ø–∫—Ç”©—Ä',
                features_subtitle: '–°–∏–∑–¥–∏–Ω —ã“£–≥–∞–π–ª—É—É–ª—É–≥—É“£—É–∑ “Ø—á“Ø–Ω –∑–∞–º–∞–Ω–±–∞–ø —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–ª–∞—Ä',
                chat_welcome: '–°–∞–ª–∞–º–∞—Ç—Å—ã–∑–±—ã! –ö–∞–Ω–¥–∞–π –∂–∞—Ä–¥–∞–º –±–µ—Ä–µ –∞–ª–∞–º?',
                chat_title: '–û–Ω–ª–∞–π–Ω –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç',
                chat_online: '‚óè –û–Ω–ª–∞–π–Ω'
            },
            tg: {
                nav_home: '–°–∞“≥–∏—Ñ–∞–∏ –∞—Å–æ—Å”£',
                nav_patients: '–ë–∞ –±–µ–º–æ—Ä–æ–Ω',
                nav_staff: '–ë–∞ –∫–æ—Ä–º–∞–Ω–¥–æ–Ω',
                nav_contacts: '–¢–∞–º–æ—Å',
                hero_badge: '–¢–∞“∑“≥–∏–∑–æ—Ç–∏ –º—É–æ—Å–∏—Ä',
                hero_title_1: '–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è–∏ –∫–ª–∏–Ω–∏–∫”£-—Ç–∞—à—Ö–∏—Å”£',
                hero_description: '–ù–∞—Ç–∏“∑–∞“≥–æ–∏ –¥–∞“õ–∏“õ –¥–∞—Ä –º—É–¥–¥–∞—Ç–∏ –∫”Ø—Ç–æ“≥. –¢–∞“∑“≥–∏–∑–æ—Ç–∏ –º—É–æ—Å–∏—Ä, –º—É—Ç–∞—Ö–∞—Å—Å–∏—Å–æ–Ω–∏ –≤–∞—Ä–∑–∏–¥–∞.',
                btn_appointment: '–ë–∞—Ä–æ–∏ —Ç–∞“≥–ª–∏–ª —Å–∞–±—Ç —à—É–¥–∞–Ω',
                btn_results: '–ì–∏—Ä–∏—Ñ—Ç–∞–Ω–∏ –Ω–∞—Ç–∏“∑–∞“≥–æ',
                result_blood: '–¢–∞“≥–ª–∏–ª–∏ —É–º—É–º–∏–∏ —Ö—É–Ω',
                result_biochemistry: '–ë–∏–æ—Ö–∏–º–∏—è–∏ —Ö—É–Ω',
                status_ready: '–¢–∞–π—ë—Ä',
                benefit_online: '–ù–∞—Ç–∏“∑–∞“≥–æ –æ–Ω–ª–∞–π–Ω',
                benefit_noqueue: '–ë–µ –Ω–∞–≤–±–∞—Ç',
                benefit_discount: '–¢–∞—Ö—Ñ–∏—Ñ —Ç–æ 20%',
                benefit_home: '–ë–∞ —Ö–æ–Ω–∞ –æ–º–∞–¥–∞–Ω',
                features_title: '–ò–º–∫–æ–Ω–∏—è—Ç“≥–æ–∏ –º–æ',
                features_subtitle: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è“≥–æ–∏ –º—É–æ—Å–∏—Ä –±–∞—Ä–æ–∏ “õ—É–ª–∞–π–∏–∏ —à—É–º–æ',
                chat_welcome: '–°–∞–ª–æ–º! –ß”£ —Ç–∞–≤—Ä –∫”Ø–º–∞–∫ –∫–∞—Ä–¥–∞ –º–µ—Ç–∞–≤–æ–Ω–∞–º?',
                chat_title: '–ö–æ–Ω—Å—É–ª—Ç–∞–Ω—Ç–∏ –æ–Ω–ª–∞–π–Ω',
                chat_online: '‚óè –û–Ω–ª–∞–π–Ω'
            },
            en: {
                nav_home: 'Home',
                nav_patients: 'For Patients',
                nav_staff: 'For Staff',
                nav_contacts: 'Contacts',
                hero_badge: 'Modern Equipment',
                hero_title_1: 'Clinical Diagnostic Laboratory',
                hero_description: 'Accurate test results in short time. Modern equipment, qualified specialists.',
                btn_appointment: 'Book an Appointment',
                btn_results: 'Get Results',
                result_blood: 'Complete Blood Count',
                result_biochemistry: 'Blood Biochemistry',
                status_ready: 'Ready',
                benefit_online: 'Results online',
                benefit_noqueue: 'No queues',
                benefit_discount: 'Discounts up to 20%',
                benefit_home: 'Home visit',
                features_title: 'Our Services',
                features_subtitle: 'Modern technologies for your convenience',
                chat_welcome: 'Hello! How can I help you?',
                chat_title: 'Online Consultant',
                chat_online: '‚óè Online'
            }
        };

        let currentLang = 'ru';
        let currentTheme = 'dark';

        // Show Registration
        function showRegistration(type) {
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('mainApp').style.display = 'block';
            
            if (type === 'patient') {
                document.getElementById('registrationTitle').textContent = '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞';
            } else {
                document.getElementById('registrationTitle').textContent = '–í—Ö–æ–¥ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤';
            }
            
            openModal('registration');
        }

        // Modal Functions
        function openModal(modalName) {
            const modalId = modalName + 'Modal';
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Theme Toggle
        function toggleTheme() {
            currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.body.setAttribute('data-theme', currentTheme);
            document.querySelector('.theme-toggle').textContent = currentTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
        }

        // Language Change
        function changeLanguage() {
            currentLang = document.getElementById('langSelector').value;
            updateTranslations();
        }

        function updateTranslations() {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(el => {
                const key = el.getAttribute('data-translate');
                if (translations[currentLang] && translations[currentLang][key]) {
                    el.textContent = translations[currentLang][key];
                }
            });
        }

        // AI Chat Functions
        const API_URL = 'http://127.0.0.1:8000';
        let chatContext = '';

        function toggleChat() {
            document.getElementById('chatWindow').classList.toggle('active');
        }

        function quickQuestion(question) {
            document.getElementById('chatInput').value = question;
            sendMessage();
        }

        function handleChatKeypress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                const messagesContainer = document.getElementById('chatMessages');
                
                // Add user message
                const userMsg = document.createElement('div');
                userMsg.className = 'chat-message user';
                userMsg.textContent = message;
                messagesContainer.appendChild(userMsg);
                
                input.value = '';
                
                // Show typing indicator
                document.getElementById('aiTyping').classList.add('active');
                messagesContainer.scrollTop = messagesContainer.scrollHeight;

                try {
                    const response = await fetch(`${API_URL}/ai/chat`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ 
                            message: message,
                            context: chatContext
                        })
                    });

                    const result = await response.json();

                    document.getElementById('aiTyping').classList.remove('active');

                    if (result.success) {
                        // Add AI response
                        const botMsg = document.createElement('div');
                        botMsg.className = 'chat-message bot';
                        botMsg.innerHTML = result.response.replace(/\n/g, '<br>');
                        messagesContainer.appendChild(botMsg);
                        
                        chatContext += `\nUser: ${message}\nAI: ${result.response.substring(0, 200)}...`;
                    } else {
                        showChatError();
                    }
                } catch (error) {
                    document.getElementById('aiTyping').classList.remove('active');
                    showChatError();
                }
                
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
        }

        function showChatError() {
            const messagesContainer = document.getElementById('chatMessages');
            const botMsg = document.createElement('div');
            botMsg.className = 'chat-message bot';
            botMsg.innerHTML = '‚ö†Ô∏è AI –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.<br><small>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä: python med_ai_server.py</small>';
            messagesContainer.appendChild(botMsg);
        }

        // AI Modal Functions
        function openAIModal() {
            document.getElementById('aiModal').classList.add('active');
        }

        function closeAIModal() {
            document.getElementById('aiModal').classList.remove('active');
            resetAIModal();
        }

        function resetAIModal() {
            document.getElementById('aiFormSection').style.display = 'block';
            document.getElementById('aiResultSection').style.display = 'none';
            document.getElementById('aiPatientName').value = '';
            document.getElementById('aiHemoglobin').value = '';
            document.getElementById('aiLeukocytes').value = '';
            document.getElementById('aiErythrocytes').value = '';
            document.getElementById('aiPlatelets').value = '';
            document.getElementById('aiSugar').value = '';
            document.getElementById('aiCholesterol').value = '';
        }

        async function runAIAnalysis() {
            const patientName = document.getElementById('aiPatientName').value || '–ü–∞—Ü–∏–µ–Ω—Ç';
            const gender = document.getElementById('aiGender').value;

            const data = {
                name: patientName,
                gender: gender,
                hemoglobin: document.getElementById('aiHemoglobin').value,
                leukocytes: document.getElementById('aiLeukocytes').value,
                erythrocytes: document.getElementById('aiErythrocytes').value,
                platelets: document.getElementById('aiPlatelets').value,
                sugar: document.getElementById('aiSugar').value,
                cholesterol: document.getElementById('aiCholesterol').value
            };

            if (!data.hemoglobin && !data.leukocytes && !data.erythrocytes && 
                !data.platelets && !data.sugar && !data.cholesterol) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –∞–Ω–∞–ª–∏–∑–∞');
                return;
            }

            const btn = document.getElementById('aiAnalyzeBtn');
            btn.disabled = true;
            btn.innerHTML = '<span class="loading"></span> –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º...';

            try {
                const response = await fetch(`${API_URL}/ai/analyze`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                const result = await response.json();

                btn.disabled = false;
                btn.innerHTML = 'ü§ñ –ó–∞–ø—É—Å—Ç–∏—Ç—å AI –ê–Ω–∞–ª–∏–∑';

                if (result.success) {
                    document.getElementById('aiFormSection').style.display = 'none';
                    document.getElementById('aiResultSection').style.display = 'block';
                    document.getElementById('aiResultContent').innerHTML = result.analysis;
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + (result.error || '–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑'));
                }
            } catch (error) {
                btn.disabled = false;
                btn.innerHTML = 'ü§ñ –ó–∞–ø—É—Å—Ç–∏—Ç—å AI –ê–Ω–∞–ª–∏–∑';
                alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—É—â–µ–Ω med_ai_server.py');
            }
        }

        // Modal Functions
        function openModal(modalName) {
            const modalId = modalName + 'Modal';
            document.getElementById(modalId).classList.add('active');
        }
        function processPayment() {
            const btn = event.target;
            btn.innerHTML = '<span class="loading"></span> –û–±—Ä–∞–±–æ—Ç–∫–∞...';
            btn.disabled = true;
            
            setTimeout(() => {
                // Create confetti
                for (let i = 0; i < 50; i++) {
                    createConfetti();
                }
                
                btn.innerHTML = '‚úì –û–ø–ª–∞—Ç–∞ —É—Å–ø–µ—à–Ω–∞!';
                btn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                
                setTimeout(() => {
                    closeModal('paymentModal');
                    btn.innerHTML = '–û–ø–ª–∞—Ç–∏—Ç—å 2500 ‚Ç∏';
                    btn.disabled = false;
                    btn.style.background = '';
                }, 2000);
            }, 2000);
        }

        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * window.innerWidth + 'px';
            confetti.style.background = ['#00d4ff', '#7c3aed', '#f59e0b', '#10b981'][Math.floor(Math.random() * 4)];
            confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
            document.body.appendChild(confetti);
            
            setTimeout(() => {
                confetti.remove();
            }, 3000);
        }

        // Form Submit
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            document.getElementById('successMessage').classList.add('active');
            
            setTimeout(() => {
                closeModal('registrationModal');
                document.getElementById('successMessage').classList.remove('active');
                this.reset();
            }, 2000);
        });

        // Payment method selection
        document.querySelectorAll('.payment-method').forEach(method => {
            method.addEventListener('click', function() {
                document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Initialize
        updateTranslations();
    </script>
</body>
</html>
// –∫–ª—é—á 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